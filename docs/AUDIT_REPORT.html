<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>vtschooldata Enrollment Data Tidyness Audit Report • vtschooldata</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="vtschooldata Enrollment Data Tidyness Audit Report"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">vtschooldata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="articles/quickstart.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="articles/data-quality-qa.html">Data Quality Analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/almartin82/vtschooldata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>vtschooldata Enrollment Data Tidyness Audit Report</h1>
      <small class="dont-index">Source: <a href="https://github.com/almartin82/vtschooldata/blob/HEAD/AUDIT_REPORT.md" class="external-link"><code>AUDIT_REPORT.md</code></a></small>
    </div>

<div id="vtschooldata-enrollment-data-tidyness-audit-report" class="section level1">

<p><strong>Date:</strong> 2026-01-05<br><strong>Auditor:</strong> Claude Code<br><strong>Package:</strong> vtschooldata<br><strong>Reference:</strong> alschooldata (target format)</p>
<div class="section level2">
<h2 id="executive-summary">Executive Summary<a class="anchor" aria-label="anchor" href="#executive-summary"></a></h2>
<p><strong>Overall Rating: 8/10</strong></p>
<p>The vtschooldata package has well-implemented enrollment data tidying with proper long-format conversion, aggregation flags, and data quality controls. However, it differs from the target format in one key way: Vermont’s data source <strong>only provides grade-level enrollment totals</strong>, not demographic breakdowns (race, gender, special populations). This is a data source limitation, not a code issue.</p>
<div class="section level3">
<h3 id="what-works-well">What Works Well<a class="anchor" aria-label="anchor" href="#what-works-well"></a></h3>
<ul><li>Proper long-format conversion with <code>subgroup</code> and <code>grade_level</code> columns</li>
<li>Correct aggregation flags (<code>is_state</code>, <code>is_district</code>, <code>is_campus</code>)</li>
<li>Clean data quality (no Inf/NaN, percentages in valid range 0-1)</li>
<li>Grade-level breakdowns (PK, K, 1-12)</li>
<li>State-level aggregation correctly calculated from campus data</li>
<li>Proper handling of missing district-level data in source (VT only provides campus-level)</li>
</ul></div>
<div class="section level3">
<h3 id="key-differences-from-target-format">Key Differences from Target Format<a class="anchor" aria-label="anchor" href="#key-differences-from-target-format"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Only one subgroup:</strong> <code>total_enrollment</code> (no demographic breakdowns)</li>
<li>
<strong>No district-level rows:</strong> Vermont source data only contains campus (school) and state aggregates</li>
<li>
<strong>No demographic subgroups:</strong> No race, gender, or special population data in main enrollment file</li>
</ol></div>
</div>
<div class="section level2">
<h2 id="detailed-findings">Detailed Findings<a class="anchor" aria-label="anchor" href="#detailed-findings"></a></h2>
<div class="section level3">
<h3 id="id_1-column-structure--pass">1. Column Structure ✓ PASS<a class="anchor" aria-label="anchor" href="#id_1-column-structure--pass"></a></h3>
<p><strong>Required columns present:</strong> - <code>end_year</code> ✓ - <code>type</code> ✓ (State, Campus) - <code>district_id</code> ✓ - <code>campus_id</code> ✓ - <code>district_name</code> ✓ - <code>campus_name</code> ✓ - <code>grade_level</code> ✓ (TOTAL, PK, K, 01-12) - <code>subgroup</code> ✓ - <code>n_students</code> ✓ - <code>pct</code> ✓ - <code>is_state</code> ✓ - <code>is_district</code> ✓ (always FALSE for VT - no district rows) - <code>is_campus</code> ✓</p>
<p><strong>Missing columns:</strong> None</p>
</div>
<div class="section level3">
<h3 id="id_2-aggregation-flags--pass">2. Aggregation Flags ✓ PASS<a class="anchor" aria-label="anchor" href="#id_2-aggregation-flags--pass"></a></h3>
<pre><code>is_state  is_district  is_campus  count
FALSE     FALSE        TRUE       4350  (campus rows)
TRUE      FALSE        FALSE      15    (state rows: 1 per grade level + TOTAL)</code></pre>
<p><strong>Issue:</strong> No district-level rows (is_district never TRUE) <strong>Root Cause:</strong> Vermont Education Dashboard only provides campus-level data <strong>Impact:</strong> Users cannot analyze district-level aggregates directly from source <strong>Severity:</strong> Low - district totals can be calculated by users via <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by()</a></code></p>
</div>
<div class="section level3">
<h3 id="id_3-subgroup-coverage-️-differs-from-target">3. Subgroup Coverage ⚠️ DIFFERS FROM TARGET<a class="anchor" aria-label="anchor" href="#id_3-subgroup-coverage-%EF%B8%8F-differs-from-target"></a></h3>
<p><strong>Current subgroups:</strong> Only <code>total_enrollment</code></p>
<p><strong>Target subgroups (from alschooldata):</strong> - Demographic: <code>white</code>, <code>black</code>, <code>hispanic</code>, <code>asian</code>, <code>native_american</code>, <code>pacific_islander</code>, <code>multiracial</code> - Gender: <code>male</code>, <code>female</code> - Special populations: <code>econ_disadv</code>, <code>lep</code>, <code>special_ed</code> - Totals: <code>total_enrollment</code> - Grade levels: K, 01-12</p>
<p><strong>Root Cause:</strong> Vermont Education Dashboard enrollment file only contains grade-level counts, not demographic breakdowns</p>
<p><strong>Documentation:</strong> README explicitly states: &gt; “Unlike most states, Vermont’s public enrollment data provides <strong>only total counts by grade</strong>. Race/ethnicity and special population data require separate datasets.”</p>
<p><strong>Severity:</strong> Informational - this is a known data source limitation</p>
</div>
<div class="section level3">
<h3 id="id_4-grade-level-coverage--pass">4. Grade Level Coverage ✓ PASS<a class="anchor" aria-label="anchor" href="#id_4-grade-level-coverage--pass"></a></h3>
<pre><code>PK    K    01-12    TOTAL
291   291  291 each 291</code></pre>
<p>All grade levels properly represented with 291 campuses each.</p>
</div>
<div class="section level3">
<h3 id="id_5-data-quality--excellent">5. Data Quality ✓ EXCELLENT<a class="anchor" aria-label="anchor" href="#id_5-data-quality--excellent"></a></h3>
<ul><li>
<strong>No Inf values:</strong> 0</li>
<li>
<strong>No NaN values:</strong> 0</li>
<li>
<strong>Percentages in range:</strong> [0, 1] - all valid</li>
<li>
<strong>Non-negative counts:</strong> All n_students ≥ 0</li>
<li>
<strong>State total reasonable:</strong> 79,288 students (2024)</li>
</ul></div>
<div class="section level3">
<h3 id="id_6-data-source-limitations-️">6. Data Source Limitations ⚠️<a class="anchor" aria-label="anchor" href="#id_6-data-source-limitations-%EF%B8%8F"></a></h3>
<p><strong>Vermont Education Dashboard Structure:</strong> - Single Excel file with all years - Columns: SCHOOLYEAR, SU_ID, SU_NAME, SCHOOL_ID, SCHOOL_NAME, PRESCHOOL, KINDERGARTENFULLTIME, KINDERGARTENPARTTIME, FIRSTGRADE…TWELFTHGRADE, TOTAL - Only campus-level rows (no district aggregates in source) - No demographic columns (race, gender, special ed, etc.)</p>
<p><strong>Implications:</strong> - District-level rows must be calculated by users (not provided by state) - Demographic analysis requires separate Vermont AOE datasets - Grade-level data is comprehensive and accurate</p>
</div>
<div class="section level3">
<h3 id="id_7-comparison-with-target-format-alschooldata">7. Comparison with Target Format (alschooldata)<a class="anchor" aria-label="anchor" href="#id_7-comparison-with-target-format-alschooldata"></a></h3>
<table class="table"><thead><tr class="header"><th>Feature</th>
<th>VT (current)</th>
<th>AL (target)</th>
<th>Match?</th>
</tr></thead><tbody><tr class="odd"><td>Long format</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr><tr class="even"><td>subgroup column</td>
<td>✓ (1 value)</td>
<td>✓ (10+ values)</td>
<td>⚠️ Limited</td>
</tr><tr class="odd"><td>grade_level column</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr><tr class="even"><td>Aggregation flags</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr><tr class="odd"><td>Demographic subgroups</td>
<td>✗</td>
<td>✓</td>
<td>⚠️ N/A</td>
</tr><tr class="even"><td>District rows</td>
<td>✗</td>
<td>✓</td>
<td>⚠️ N/A</td>
</tr><tr class="odd"><td>Grade breakdowns</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr><tr class="even"><td>Data quality</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr><tr class="odd"><td>No Inf/NaN</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr><tr class="even"><td>pct column</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr></tbody></table></div>
</div>
<div class="section level2">
<h2 id="issues-and-fixes">Issues and Fixes<a class="anchor" aria-label="anchor" href="#issues-and-fixes"></a></h2>
<div class="section level3">
<h3 id="issue-1-missing-district-level-rows">Issue 1: Missing District-Level Rows<a class="anchor" aria-label="anchor" href="#issue-1-missing-district-level-rows"></a></h3>
<p><strong>Severity:</strong> Low<br><strong>Status:</strong> By Design (data source limitation)</p>
<p><strong>Problem:</strong> The tidy output has no district-level rows (is_district always FALSE).</p>
<p><strong>Root Cause:</strong> Vermont Education Dashboard only provides campus (school) and state-level data. District aggregates are not included in the source file.</p>
<p><strong>Impact:</strong> Users must aggregate to district level manually:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">district_totals</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">is_campus</span>, <span class="va">subgroup</span> <span class="op">==</span> <span class="st">"total_enrollment"</span>, <span class="va">grade_level</span> <span class="op">==</span> <span class="st">"TOTAL"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">district_id</span>, <span class="va">district_name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span>n_students <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n_students</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>Fix Options:</strong> 1. <strong>Option A (Current):</strong> Document the limitation and let users aggregate - Pros: Accurate to source, no calculated data - Cons: Less convenient for users</p>
<ol start="2" style="list-style-type: decimal"><li>
<strong>Option B (Enhancement):</strong> Calculate district aggregates in <code><a href="reference/process_enr.html">process_enr()</a></code>
<ul><li>Pros: Matches target format, more convenient</li>
<li>Cons: Creates calculated rows not in source, may confuse users</li>
<li>Implementation: Aggregate campus rows by district_id in <code><a href="reference/create_state_aggregate.html">create_state_aggregate()</a></code> or new function</li>
</ul></li>
</ol><p><strong>Recommendation:</strong> Add district-level aggregation to match target format. This is standard practice for states without district rows (e.g., VT, WY).</p>
</div>
<div class="section level3">
<h3 id="issue-2-limited-subgroups-only-total_enrollment">Issue 2: Limited Subgroups (Only total_enrollment)<a class="anchor" aria-label="anchor" href="#issue-2-limited-subgroups-only-total_enrollment"></a></h3>
<p><strong>Severity:</strong> Informational<br><strong>Status:</strong> Data source limitation (not fixable)</p>
<p><strong>Problem:</strong> Only <code>total_enrollment</code> subgroup available. No race, gender, or special population data.</p>
<p><strong>Root Cause:</strong> Vermont Education Dashboard enrollment file contains only grade-level counts.</p>
<p><strong>Impact:</strong> Cannot analyze demographic trends through main enrollment functions. Users must access separate Vermont AOE datasets.</p>
<p><strong>Documentation:</strong> README explicitly documents this limitation.</p>
<p><strong>Fix:</strong> None required - this is a data source constraint, not a code issue.</p>
</div>
<div class="section level3">
<h3 id="issue-3-kindergarten-fullpart-time-combination">Issue 3: Kindergarten Full/Part-time Combination<a class="anchor" aria-label="anchor" href="#issue-3-kindergarten-fullpart-time-combination"></a></h3>
<p><strong>Severity:</strong> None<br><strong>Status:</strong> Correctly implemented</p>
<p><strong>Observation:</strong> Vermont provides <code>KINDERGARTENFULLTIME</code> and <code>KINDERGARTENPARTTIME</code> columns, which are correctly summed in <code><a href="reference/process_enr.html">process_enr()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">k_full</span> <span class="op">+</span> <span class="va">k_part</span> <span class="op">-&gt;</span> <span class="va">grade_k</span></span></code></pre></div>
<p>This is proper handling of the source data structure.</p>
</div>
</div>
<div class="section level2">
<h2 id="recommendations">Recommendations<a class="anchor" aria-label="anchor" href="#recommendations"></a></h2>
<div class="section level3">
<h3 id="high-priority">High Priority<a class="anchor" aria-label="anchor" href="#high-priority"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Add district-level aggregation</strong> to match target format
<ul><li>Create district rows by aggregating campus data</li>
<li>Maintain consistency with other state packages</li>
<li>Improve user convenience</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="medium-priority">Medium Priority<a class="anchor" aria-label="anchor" href="#medium-priority"></a></h3>
<ol start="2" style="list-style-type: decimal"><li>
<strong>Add comment in code</strong> explaining why no demographic subgroups
<ul><li>Document data source limitation in <code>tidy_enrollment.R</code>
</li>
<li>Reference separate Vermont AOE datasets for demographics</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="low-priority">Low Priority<a class="anchor" aria-label="anchor" href="#low-priority"></a></h3>
<ol start="3" style="list-style-type: decimal"><li>
<strong>Consider adding district aggregate helper function</strong>
<ul><li>
<code>add_district_aggregates(df)</code> function for users who want district rows</li>
<li>Or integrate into main <code><a href="reference/process_enr.html">process_enr()</a></code> function</li>
</ul></li>
</ol></div>
</div>
<div class="section level2">
<h2 id="code-quality-assessment">Code Quality Assessment<a class="anchor" aria-label="anchor" href="#code-quality-assessment"></a></h2>
<div class="section level3">
<h3 id="strengths">Strengths<a class="anchor" aria-label="anchor" href="#strengths"></a></h3>
<ul><li>Clean, readable code following state-schooldata conventions</li>
<li>Proper error handling and validation</li>
<li>Comprehensive caching system</li>
<li>Good documentation (roxygen2, README)</li>
<li>Data quality checks in tests</li>
</ul></div>
<div class="section level3">
<h3 id="areas-for-improvement">Areas for Improvement<a class="anchor" aria-label="anchor" href="#areas-for-improvement"></a></h3>
<ul><li>None critical</li>
<li>Minor: Could add more comments explaining VT-specific data structure</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="test-coverage">Test Coverage<a class="anchor" aria-label="anchor" href="#test-coverage"></a></h2>
<p><strong>Current tests:</strong> - ✓ Column structure - ✓ Aggregation flags - ✓ Data quality (Inf/NaN) - ✓ Non-negative counts - ✓ Percentage ranges - ✓ Year validation - ✓ Multi-year fetch</p>
<p><strong>Missing tests:</strong> - District aggregation (if added) - Grade-level fidelity (compare tidy grade sums to raw totals)</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a></h2>
<p>vtschooldata has <strong>solid enrollment data tidying</strong> with proper long-format structure and data quality. The main differences from the target format (alschooldata) are due to <strong>Vermont’s data source limitations</strong>:</p>
<ol style="list-style-type: decimal"><li>No demographic breakdowns (only grade totals)</li>
<li>No district-level rows in source (only campus + state)</li>
</ol><p>These are <strong>documented limitations</strong>, not code bugs. The README explicitly states Vermont only provides grade-level totals, and demographic data requires separate datasets.</p>
<p><strong>Rating: 8/10</strong> - Well-implemented with clear documentation of data source constraints.</p>
<div class="section level3">
<h3 id="primary-fix-recommendation">Primary Fix Recommendation<a class="anchor" aria-label="anchor" href="#primary-fix-recommendation"></a></h3>
<p>Add district-level aggregation by summing campus rows, matching the pattern used by other states (WY, etc.). This would improve consistency across packages and user convenience.</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Al Martin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

